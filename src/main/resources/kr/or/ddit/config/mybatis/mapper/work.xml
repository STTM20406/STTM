<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="work">


<!-- ******************work**************** -->
	<update id="updateWork" parameterType="workVo">
		UPDATE	WORK
		SET		WRK_LST_ID = #{wrk_lst_id}
				,WRK_PR_ID = #{wrk_pr_id}
				,USER_EMAIL = #{user_email}
				,WRK_NM = #{wrk_nm}
				,WRK_GRADE = #{wrk_grade}
				,WRK_COLOR_CD = #{wrk_color_cd}
				,WRK_START_DT = #{wrk_start_dt}
				,WRK_END_DT = #{wrk_end_dt}
				,WRK_CMP_DT = #{wrk_cmp_dt, jdbcType=DATE}
				,WRK_CMP_FL = #{wrk_cmp_fl}
				,WRK_DEL_FL = #{wrk_del_fl}
		WHERE	WRK_ID = #{wrk_id}
	</update>






<!-- ******************work_al_mem**************** -->







<!-- ******************work_comment**************** -->
	<!-- 업무코멘트 등록 -->
	<insert id="commInsert" parameterType="work_commentVo">
		insert into work_comment values(wrk_comm_seq.nextval,#{prj_id},#{user_email},#{wrk_id},#{comm_content},sysdate,'N')
	</insert>
	
	<!-- 업무코멘트 삭제 -->
	<update id="commDelete" parameterType="work_commentVo">
		update work_comment 
		set del_fl='Y' 
		where comm_id=#{comm_id} 
		and prj_id =#{prj_id} 
	</update>
	
	<!-- 업무코멘트 수정 -->
	<update id="commUpdate" parameterType="work_commentVo">
		update work_comment 
		set comm_content=#{comm_content}
		where comm_id=#{comm_id} 
		and prj_id =#{prj_id} 
	</update>
	
	<!-- 업무코멘트 조회 -->
	<select id="commList" parameterType="work_commentVo" resultType="work_commentVo">
		select * 
		from work_comment 
		where wrk_id = #{wrk_id}
		and prj_id = #{prj_id}
	</select>

<!-- ******************work_list**************** -->







<!-- ******************work_mem_flw**************** -->






<!-- ******************work_push**************** -->




</mapper>